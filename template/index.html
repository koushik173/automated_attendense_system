<!DOCTYPE html>
<html>

<head>
    <title>Video Streaming Control</title>
</head>

<body>

    <!-- <div className='flex  justify-around h-full w-full items-center'>
             <div class ='border rounded flex flex-col items-center'>
                 <img className='h-40' src={OpenCam} />
                 <h1>Open Camera</h1>
             </div>
             <div onClick={ stop } className='border rounded flex flex-col items-center'>
                 <img className='h-40' src={stopCam} />
                 <h1>Close Camera</h1>
             </div> -->
    </div>
    <div class="container">
        <h3>Live Streaming</h3>
        <div style="display: flex; width: 100%;  justify-content: space-around; align-items: center;">
            <div style="width: 20%; display: flex;  height: 100%; justify-content: space-around; align-items: center;">
                <div id="startButton" style="justify-items: center;align-items: center; cursor: pointer;">
                    <img height="100px" src='https://i.ibb.co/ScVs46r/OpenCam.png' />
                    <p>Open Camera</p>
                </div>
                <div id="stopButton" style="justify-items: center; align-items: center; cursor: pointer;">
                    <img height="100px" src='https://i.ibb.co/vwFZyLw/stopCam.png' />
                    <p>Stop Camera</p>
                </div>
            </div>
            <div style="width: 50%; border: 1;">
                <img id="video">
            </div>
            <div>
                <ol>
                    <li>hk</li>
                    <li>hk</li>
                </ol>
            </div>
        </div>
    </div>

    <script>

        document.getElementById('startButton').addEventListener('click', async function () {
            await fetch('/start_video')
            var video = document.getElementById('video');
            video.src = "{{ url_for('video_feed') }}";
        });

        document.getElementById('stopButton').addEventListener('click', async function () {
            await fetch('/stop_video')
            .then(res=>res.json())
            .then(data=>console.log("HK: ", data));;
            document.getElementById('video').src = "";
            fetch('/Attendance.csv')
                .then(response => response.text())
                .then(data => {
                    console.log(data)
                 })
        });
    </script>
</body>

</html>